## 简介

用于图片储存与检索。仅私发有效。

将图片发给bot，然后发送关键字。之后就可以通过关键字检索图片。

## 指令

- **储存** 

	​	指令符号：`$`
	
	- **先发图片再发指令**
	
	  发送: [图片]	---> 消息1
	
	  发送: [图片]	---> 消息2
	
	  ...(省略n张图片)	 ---> 消息n
	
	  发送: `$关键字`	---> 消息n+1 
	
	- **先发指令再发图片**
	
	  发送: `$关键字`   ---> 消息1
	
	  发送: [图片] 	  ---> 消息2
	
	  ----------结束---------
	
	  此后再发送图片，会等待下一次储存指令
	  
	- **发送图片和指令**
	  
	  发送: [图片] [图片] `$关键字` [图片]  ---> 消息1
	
- **检索**

  - **完全匹配**

    指令符号：`#`

    发送：`#关键字`

  - **模糊匹配**

    指令符号：`&`

    发送：`&关键字`

  - **查询所有图片**
    发送：`#查询全部`

  - **查询储存队列**	[?](#储存队列) 		

	  发送：`#查询缓存`		

- **删除**
  
  - **完全匹配**
  
    指令符号：`@`
  
    发送：`@关键字`
  
  - **索引匹配**	[?](#索引匹配) 
  
    指令符号：`%`
  
    发送：`%n`	n为整数，从1开始
  
  - **清空储存队列**
  
    发送：`#删除缓存`
  



## 解释

### 储存队列

图片储存需要关键字。在没有找到关键字时，发送的图片都会进入储存队列。队列默认长度10，长度超过时丢弃最旧的。

### 消息副本

bot每次发送图片消息、图片合并消息，都会将这次消息保留一份副本，然后丢弃旧的。

### 索引匹配

根据bot发给你的最近的一次图片消息，例如是合并消息，要删除第三张图片，输入`%3`，会从储存中删除这张图片
